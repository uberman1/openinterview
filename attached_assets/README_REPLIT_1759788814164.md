# Availability Replacement â€” Replit Patch
This pack replaces the Availability page, adds APIs, and includes **three self-tests**:
1) API logic (`selftest_availability_api.mjs`)
2) DOM markers (`selftest_availability_dom.mjs`)
3) Guardrails checksums (`selftest_availability_guardrails.mjs`)

## Apply (copy/paste in Replit shell)
```bash
unzip replit_availability_replacement_patch.zip -d /tmp/oi_avail && cp -R /tmp/oi_avail/* .
node scripts/apply_availability_patch.mjs
npm i supertest cheerio
# Restart your server if needed (e.g., npm run dev)
node scripts/selftest_availability_api.mjs
node scripts/selftest_availability_dom.mjs
node scripts/selftest_availability_guardrails.mjs
```
If all three pass, the new page is live and compliant.

## Rollback
```bash
cp -f public/availability_legacy.html public/availability.html
# refresh and test
```
