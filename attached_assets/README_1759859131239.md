# Password Page — UI Update Patch

**What this does**
- Installs your exact `public/password.html` (Tailwind + Inter) and injects the **same profile header** used on `home.html` at runtime (no byte changes to the HTML at rest).
- Binds the form to existing password-update endpoints with progressive fallbacks:
  - `POST /api/auth/password` → `{ current_password, new_password }`
  - `PUT  /api/users/me/password`
  - `POST /api/password/update`
- Keeps existing backend logic untouched.
- Adds aliases: `/password`, `/settings/password` → `/password.html`.

**Apply (Replit)**
```bash
unzip password_ui_update_patch.zip -d /tmp/oi_pwd && cp -R /tmp/oi_pwd/* .
node scripts/apply_password_ui_update.mjs
# restart server (e.g., npm run dev)
npm i supertest cheerio
node scripts/selftest_password_ui.mjs
```

**Behavior**
- Header is swapped to the **Home** header on load (links → `/home.html` or fallbacks).
- “New Interview” button routes to `/interviews/new` (fallbacks to `/profile_edit.html`).
- Avatar loads from `/api/users/me` (`avatar_url` or `photo_url`) with a safe placeholder fallback.
- Form validates empty fields, mismatched confirmation, and minimum length.
- On success: shows a toast and clears fields. On `401`, redirects to login.

**Guardrails**
If `expected.sha256.json` exists, the script adds the checksum for `public/password.html` to maintain byte-for-byte integrity.

**Rollback**
```bash
cp -f public/password_prev.html public/password.html
# Optionally remove the PASSWORD_BIND_INJECT block from index.js
```
