# OpenInterview — Module 0 (Framework Setup)
Baseline scaffold for the **replit-deployment model**: build core first, swap real integrations later using adapters behind stable interfaces and feature flags. This repo keeps folders under 20 and ships with self-tests, logs, stories, and exit criteria.

## What ships in Module 0
- Minimal **Express** API (`/server`) with a health route and versioned API (`/api/v1`).
- **React + Vite** client (`/client`) with a single-page shell and health check UI.
- **Adapters** (`/adapters`) define interfaces for future integrations (Auth, Storage, Payments, Email). Concrete impls deferred; **/mocks** provides local stubs.
- **Feature flags** (`/config/flags.json`) toggle mock vs real adapters (real are placeholders for now).
- **Self-tests** (`/tests`) run API contract tests and a client build check; writes a machine-parsable **/logs/selftest.json** and human-readable **/logs/selftest.log**.
- **Security** baselines: Helmet, CORS (tightened), rate limit, request size limits, input validation stubs.
- **Token-aware** design: small deps, concise logs, lean build.
- **Stories**: user + tech stories for Agent 3 and human review in `/STORIES.md`.

## Run (Replit / local)
```bash
# 1) Install deps
npm run setup

# 2) Start dev servers (concurrently): API on 5050, Web on 5173
npm run dev

# 3) Run self-tests + build check
npm test
```

## Structure
- `/server` — Express API
- `/client` — Vite React SPA
- `/adapters` — Ports (interfaces) and adapter registry (mock-first)
- `/mocks` — Local stub adapters
- `/shared` — Shared types/constants
- `/config` — Flags and env template
- `/tests` — API contract tests & health checks
- `/scripts` — Self-test runner
- `/logs` — Test/output logs (created at runtime)

## Exit Criteria for Module 0
- ✅ `GET /api/v1/health` returns `{status:"ok", env:"local", adapters:{...}}` (from mocks).
- ✅ Client loads and shows API health.
- ✅ `npm test` exits 0 and writes `/logs/selftest.json` with all checks passing.
- ✅ No external network calls beyond localhost.
- ✅ Folders <= 20; security middleware enabled; rate limiter active.

## Swap-in Real Integrations (later modules)
Adapters live under `/adapters`. Each interface has a mock in `/mocks` and a `TODO: real/*` note. Later modules implement `real/*` and flip flags in `/config/flags.json` or env vars.

## Environment
Copy `.env.example` → `.env` at root (optional in Module 0).
